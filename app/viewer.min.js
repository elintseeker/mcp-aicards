var app=new Vue({el:"#app",data:{characterData:null,characterState:"injured",injured:!1,name:null,alias:null,stats:null,defense:null,attacks:null,superpowers:null,disableButton:!1,showHelp:!1,helpContent:null,splash:!0},methods:{randomizer:function(a){return Math.floor(Math.random()*a)},formatText:function(a){if(a)for(var t=0;t<a.length;t++)a[t]=a[t].replace(/(\[b\])/g,"<strong>").replace(/(\[\/b\])/g,"</strong>").replace(/(\[em\])/g,"<strong>").replace(/(\[\/em\])/g,"</strong>");return a},getData:function(a){var t=this;fetch("/app/data/character/"+a+".json").then(function(a){return a.json()}).then(function(a){console.log(a),t.characterData=a,t.displayStats("default"),setTimeout(function(){t.splash=!1},1500)})},displayStats:function(a){var t=this;t.name=t.characterData.name,t.alias=t.characterData.alias,t.stats=t.characterData[a].stats,t.defense=t.characterData[a].defense,t.attacks=t.characterData[a].attacks,t.superpowers=t.characterData[a].superpowers},flipCard:function(a){var t=this,e=document.querySelector("body");a?(t.injured=!1,t.displayStats("default"),e.classList.remove("injured")):(t.injured=!0,t.displayStats("injured"),e.classList.add("injured"))},getCard:function(a,t){var e,r,n,c,s=this;e=a&&t?(r=t,s.characterData[a][t]):(c=(n=Object.keys(s.characterData))[s.randomizer(n.length)],s.currentCards=s.characterData[c],data=Object.keys(s.currentCards),r=data[s.randomizer(data.length)],s.currentCards[r]),s.currCard=r,s.currCardName=s.formatText(e.name),s.currCardTarget=s.formatText(e.target),s.currCardAction=s.formatText(e.action),s.currCardAction2=s.formatText(e.actionSecondary),s.currCardEtc=s.formatText(e.actionEtc)},launchHelp:function(a){this.showHelp=!0},closeHelp:function(a){this.showHelp=!1},loadHelp:function(){var e=this;fetch("../HELP.md").then(function(a){return a.text()}).then(function(a){var t=window.markdownit();e.helpContent=t.render(a)})}},mounted:function(){this.$nextTick(function(){this.loadHelp(),this.getData("captainmarvel")})}});