var app=new Vue({el:"#app",data:{cardShow:!0,selectedData:null,characterData:null,currentCards:null,currCard:null,currCardName:null,currCardTarget:null,currCardAction:null,currCardAction2:null,currCardEtc:null,disableButton:!1,showHelp:!1,helpContent:null,splash:!0,prevCard:"B1"},methods:{randomizer:function(t){return Math.floor(Math.random()*t)},formatText:function(t){if(t)for(var r=0;r<t.length;r++)t[r]=t[r].replace(/(\[b\])/g,"<strong>").replace(/(\[\/b\])/g,"</strong>").replace(/(\[em\])/g,"<strong>").replace(/(\[\/em\])/g,"</strong>");return t},getData:function(t){var r=this,a=t||r.selectedData;fetch("app/data/"+a+".deckdata.json").then((function(t){return t.json()})).then((function(t){r.characterData=t,r.getCard("basic",r.prevCard),setTimeout((function(){r.splash=!1}),1500)}))},getCard:function(t,r){var a,e,n,c,o=this;t&&r?(e=r,a=o.characterData[t][r]):(c=(n=Object.keys(o.characterData))[o.randomizer(n.length)],o.currentCards=o.characterData[c],data=Object.keys(o.currentCards),e=data[o.randomizer(data.length)],a=o.currentCards[e]),o.currCard=e,o.currCardName=o.formatText(a.name),o.currCardTarget=o.formatText(a.target),o.currCardAction=o.formatText(a.action),o.currCardAction2=o.formatText(a.actionSecondary),o.currCardEtc=o.formatText(a.actionEtc)},getAICard:function(t){var r=this;r.cardShow=!1,r.getCard(),r.disableButton=!0,setTimeout((function(){r.cardShow=!0,r.disableButton=!1}),500)},launchHelp:function(t){this.showHelp=!0},closeHelp:function(t){this.showHelp=!1},loadHelp:function(){var t=this;fetch("../HELP.md").then((function(t){return t.text()})).then((function(r){var a=window.markdownit();t.helpContent=a.render(r)}))}},mounted:function(){this.$nextTick((function(){this.loadHelp(),this.getData("basic")}))}});