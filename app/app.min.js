var app=new Vue({el:"#app",data:{dataUrl:"./app/data/ultron-master.deckdata.json",characterData:null,currentCards:null,currCard:null,currCardName:null,currCardTarget:null,currCardAction:null,currCardAction2:null,disableButton:!1,showHelp:!1,splash:!0,prevCard:"BA1"},methods:{randomizer:function(r){return Math.floor(Math.random()*r)},formatText:function(r){if(r)for(var a=0;a<r.length;a++)r[a]=r[a].replace("[b]","<strong>").replace("[/b]","</strong>").replace("[b]","<strong>").replace("[/b]","</strong>"),r[a]=r[a].replace("[em]","<em>").replace("[/em]","</em>");return r},getData:function(r){var a=this;fetch(a.dataUrl).then(function(r){return r.json()}).then(function(r){a.characterData=r,a.getCard("basic","BA1"),setTimeout(function(){a.splash=!1},2e3)})},getCard:function(r,a){var t,e,n,c,o=this;t=r&&a?(e=a,o.characterData[r][a]):(c=(n=Object.keys(o.characterData))[o.randomizer(n.length)],o.currentCards=o.characterData[c],data=Object.keys(o.currentCards),e=data[o.randomizer(data.length)],o.currentCards[e]),o.currCard=e,o.currCardName=o.formatText(t.name),o.currCardTarget=o.formatText(t.target),o.currCardAction=o.formatText(t.action),o.currCardAction2=o.formatText(t.actionSecondary)},getAICard:function(r){var a=this;a.getCard(),console.log(a.currCard,a.prevCard),a.currCard!==a.prevCard?a.prevCard=a.currCard:(a.getCard(),console.log("getting new card...")),a.disableButton=!0,setTimeout(function(){a.disableButton=!1},500)},launchHelp:function(r){this.showHelp=!0},closeHelp:function(r){this.showHelp=!1}},mounted:function(){this.$nextTick(function(){this.getData()})}});